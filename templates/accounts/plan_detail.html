<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Szczegóły Planu - {{ plan.name }}</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
    <h1>{{ plan.name }}</h1>
    <p><strong>Typ:</strong> {{ plan.get_type_display }}</p>
    <p><strong>Lokalizacja:</strong> {{ plan.location }}</p>
    {% if plan.logo %}
        <p><strong>Logo:</strong></p>
        <img src="{{ plan.logo.url }}" alt="Logo {{ plan.name }}" style="max-width: 200px;">
    {% endif %}

    <h2>Opcje konfiguracji:</h2>
    <ul>
        {% if plan.type == 'higher' %}
            <li><a href="#">Zarządzaj wydziałami</a></li>
            <li><a href="#">Zarządzaj kierunkami</a></li>
            <li><a href="#">Zarządzaj salami</a></li>
            <li><a href="#">Zarządzaj grupami</a></li>
            <li><a href="#">Zarządzaj nauczycielami</a></li>
            <li><a href="#">Zarządzaj zajęciami</a></li>
        {% elif plan.type == 'secondary' %}
            <li><a href="#">Zarządzaj profilami</a></li>
            <li><a href="#">Zarządzaj salami</a></li>
            <li><a href="#">Zarządzaj klasami</a></li>
            <li><a href="#">Zarządzaj nauczycielami</a></li>
            <li><a href="#">Zarządzaj zajęciami</a></li>
        {% elif plan.type == 'primary' %}
            <li><a href="{% url 'manage_rooms' plan.id %}">Zarządzaj salami</a></li>
            <li><a href="{% url 'manage_groups' plan.id %}">Zarządzaj klasami</a></li>
            <li><a href="{% url 'manage_teachers' plan.id %}">Zarządzaj nauczycielami</a></li>
            <li><a href="{% url 'manage_courses' plan.id %}">Zarządzaj zajęciami</a></li>
        {% endif %}
    </ul>

    <!-- Nowy przycisk do wyświetlenia planu -->
    <a href="{% url 'view_plan' plan.id %}" target="_blank" class="btn btn-primary mt-3">
        <i class="fas fa-eye"></i> Wyświetl Plan
    </a>

    <!-- Przycisk do usunięcia instytucji z potwierdzeniem -->
    <form method="post" action="{% url 'delete_plan' plan.id %}" class="mt-3" onsubmit="return confirmDelete();">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">
            <i class="fas fa-trash-alt"></i> Usuń Instytucję
        </button>
    </form>

    <!-- Przycisk powrotu -->
    <a href="{% url 'plans' %}" class="btn btn-secondary mt-3">
        <i class="fas fa-arrow-left"></i> Powrót do listy planów
    </a>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function confirmDelete() {
            return confirm('Czy na pewno chcesz usunąć tę instytucję?');
        }
    </script>
</body>
</html>
